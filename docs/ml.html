---

title: ml


keywords: fastai
sidebar: home_sidebar

summary: "data processing and model training + analysis using machine learning"
description: "data processing and model training + analysis using machine learning"
nb_path: "03_ml.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 03_ml.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>c:\users\danie\appdata\local\programs\python\python39\lib\site-packages\xgboost-1.4.0rc1-py3.9-win-amd64.egg\xgboost\compat.py:31: FutureWarning: pandas.Int64Index is deprecated and will be removed from pandas in a future version. Use pandas.Index with the appropriate dtype instead.
  from pandas import MultiIndex, Int64Index
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="/glycowork/ml.html"><code>ml</code></a> contains the code base to process glycan for machine learning, construct state-of-the-art machine learning models, train them, and analyze trained models + glycan representations. It currently contains the following modules:</p>
<ul>
<li><code>model_training</code> contains functions for training machine learning models</li>
<li><code>models</code> describes some examples for machine learning architectures applicable to glycans</li>
<li><code>processing</code> contains helper functions to prepare glycan data for model training</li>
<li><code>inference</code> can be used to analyze trained models, make predictions, or obtain glycan representations</li>
<li><code>train_test_split</code> contains various data split functions to get appropriate training and test sets</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="model_training">model_training<a class="anchor-link" href="#model_training"> </a></h2><blockquote><p>contains functions for training machine learning models</p>
</blockquote>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="EarlyStopping" class="doc_header"><code>class</code> <code>EarlyStopping</code><a href="https://github.com/BojarLab/glycowork/tree/master/glycowork/ml/model_training.py#L14" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>EarlyStopping</code>(<strong><code>patience</code></strong>=<em><code>7</code></em>, <strong><code>verbose</code></strong>=<em><code>False</code></em>)</p>
</blockquote>
<p>Early stops the training if validation loss doesn't improve after a given patience.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="train_model" class="doc_header"><code>train_model</code><a href="https://github.com/BojarLab/glycowork/tree/master/glycowork/ml/model_training.py#L73" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>train_model</code>(<strong><code>model</code></strong>, <strong><code>dataloaders</code></strong>, <strong><code>criterion</code></strong>, <strong><code>optimizer</code></strong>, <strong><code>scheduler</code></strong>, <strong><code>num_epochs</code></strong>=<em><code>25</code></em>, <strong><code>patience</code></strong>=<em><code>50</code></em>, <strong><code>mode</code></strong>=<em><code>'classification'</code></em>, <strong><code>mode2</code></strong>=<em><code>'multi'</code></em>)</p>
</blockquote>
<p>trains a deep learning model on predicting glycan properties</p>
<table>
<thead><tr>
<th style="text-align:left">Arguments:</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">model (PyTorch object): graph neural network (such as SweetNet) for analyzing glycans</td>
</tr>
<tr>
<td style="text-align:left">dataloaders (PyTorch object): dictionary of dataloader objects with keys 'train' and 'val'</td>
</tr>
<tr>
<td style="text-align:left">criterion (PyTorch object): PyTorch loss function</td>
</tr>
<tr>
<td style="text-align:left">optimizer (PyTorch object): PyTorch optimizer</td>
</tr>
<tr>
<td style="text-align:left">scheduler (PyTorch object): PyTorch learning rate decay</td>
</tr>
<tr>
<td style="text-align:left">num_epochs (int): number of epochs for training; default:25</td>
</tr>
<tr>
<td style="text-align:left">patience (int): number of epochs without improvement until early stop; default:50</td>
</tr>
<tr>
<td style="text-align:left">mode (string): 'classification', 'multilabel', or 'regression'; default:classification</td>
</tr>
<tr>
<td style="text-align:left">mode2 (string): further specifying classification into 'multi' or 'binary' classification;default:multi</td>
</tr>
</tbody>
</table>
<table>
<thead><tr>
<th style="text-align:left">Returns:</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Returns the best model seen during training</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="training_setup" class="doc_header"><code>training_setup</code><a href="https://github.com/BojarLab/glycowork/tree/master/glycowork/ml/model_training.py#L299" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>training_setup</code>(<strong><code>model</code></strong>, <strong><code>lr</code></strong>, <strong><code>lr_patience</code></strong>=<em><code>4</code></em>, <strong><code>factor</code></strong>=<em><code>0.2</code></em>, <strong><code>weight_decay</code></strong>=<em><code>0.0001</code></em>, <strong><code>mode</code></strong>=<em><code>'multiclass'</code></em>)</p>
</blockquote>
<p>prepares optimizer, learning rate scheduler, and loss criterion for model training</p>
<table>
<thead><tr>
<th style="text-align:left">Arguments:</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">model (PyTorch object): graph neural network (such as SweetNet) for analyzing glycans</td>
</tr>
<tr>
<td style="text-align:left">lr (float): learning rate</td>
</tr>
<tr>
<td style="text-align:left">lr_patience (int): number of epochs without validation loss improvement before reducing the learning rate;default:4</td>
</tr>
<tr>
<td style="text-align:left">factor (float): factor by which learning rate is multiplied upon reduction</td>
</tr>
<tr>
<td style="text-align:left">weight_decay (float): regularization parameter for the optimizer; default:0.001</td>
</tr>
<tr>
<td style="text-align:left">mode (string): 'multiclass': classification with multiple classes, 'multilabel': predicting several labels at the same time, 'binary':binary classification, 'regression': regression; default:'multiclass'</td>
</tr>
</tbody>
</table>
<table>
<thead><tr>
<th style="text-align:left">Returns:</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Returns optimizer, learning rate scheduler, and loss criterion objects</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="train_ml_model" class="doc_header"><code>train_ml_model</code><a href="https://github.com/BojarLab/glycowork/tree/master/glycowork/ml/model_training.py#L330" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>train_ml_model</code>(<strong><code>X_train</code></strong>, <strong><code>X_test</code></strong>, <strong><code>y_train</code></strong>, <strong><code>y_test</code></strong>, <strong><code>mode</code></strong>=<em><code>'classification'</code></em>, <strong><code>feature_calc</code></strong>=<em><code>False</code></em>, <strong><code>libr</code></strong>=<em><code>None</code></em>, <strong><code>return_features</code></strong>=<em><code>False</code></em>, <strong><code>feature_set</code></strong>=<em><code>['known', 'exhaustive']</code></em>, <strong><code>additional_features_train</code></strong>=<em><code>None</code></em>, <strong><code>additional_features_test</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>wrapper function to train standard machine learning models on glycans</p>
<table>
<thead><tr>
<th style="text-align:left">Arguments:</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">X_train, X_test (list or dataframe): either lists of glycans (needs feature_calc = True) or motif dataframes such as from annotate_dataset</td>
</tr>
<tr>
<td style="text-align:left">y_train, y_test (list): lists of labels</td>
</tr>
<tr>
<td style="text-align:left">mode (string): 'classification' or 'regression'; default:'classification'</td>
</tr>
<tr>
<td style="text-align:left">feature_calc (bool): set to True for calculating motifs from glycans; default:False</td>
</tr>
<tr>
<td style="text-align:left">libr (list): sorted list of unique glycoletters observed in the glycans of our data; default:lib</td>
</tr>
<tr>
<td style="text-align:left">return_features (bool): whether to return calculated features; default:False</td>
</tr>
<tr>
<td style="text-align:left">feature_set (list): which feature set to use for annotations, add more to list to expand; default:['known','exhaustive']; options are: 'known' (hand-crafted glycan features), 'graph' (structural graph features of glycans), and 'exhaustive' (all mono- and disaccharide features)</td>
</tr>
<tr>
<td style="text-align:left">additional_features_train (dataframe): additional features (apart from glycans) to be used for training. Has to be of the same length as X_train; default:None</td>
</tr>
<tr>
<td style="text-align:left">additional_features_test (dataframe): additional features (apart from glycans) to be used for evaluation. Has to be of the same length as X_test; default:None</td>
</tr>
</tbody>
</table>
<table>
<thead><tr>
<th style="text-align:left">Returns:</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Returns trained model                           </td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">vertebrate</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="s1">&#39;Chordata&#39;</span> <span class="k">else</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">df_species</span><span class="p">[</span><span class="n">df_species</span><span class="o">.</span><span class="n">Kingdom</span><span class="o">==</span><span class="s1">&#39;Animalia&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">Phylum</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">()]</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">general_split</span><span class="p">(</span><span class="n">df_species</span><span class="p">[</span><span class="n">df_species</span><span class="o">.</span><span class="n">Kingdom</span><span class="o">==</span><span class="s1">&#39;Animalia&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span> <span class="n">vertebrate</span><span class="p">)</span>
<span class="n">model_ft</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">X_test</span> <span class="o">=</span> <span class="n">train_ml_model</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span><span class="p">,</span> <span class="n">feature_calc</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">feature_set</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;exhaustive&#39;</span><span class="p">],</span>
                         <span class="n">return_features</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>
Calculating Glycan Features...

Training model...
[06:45:02] WARNING: C:/Users/Administrator/workspace/xgboost-win64_release_1.4.0/src/learner.cc:1095: Starting in XGBoost 1.3.0, the default evaluation metric used with the objective &#39;binary:logistic&#39; was changed from &#39;error&#39; to &#39;logloss&#39;. Explicitly set eval_metric if you&#39;d like to restore the old behavior.

Evaluating model...
Accuracy of trained model on separate validation set: 0.9150110375275938
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="analyze_ml_model" class="doc_header"><code>analyze_ml_model</code><a href="https://github.com/BojarLab/glycowork/tree/master/glycowork/ml/model_training.py#L392" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>analyze_ml_model</code>(<strong><code>model</code></strong>)</p>
</blockquote>
<p>plots relevant features for model prediction</p>
<table>
<thead><tr>
<th style="text-align:left">Arguments:</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">model (model object): trained machine learning model from train_ml_model</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">analyze_ml_model</span><span class="p">(</span><span class="n">model_ft</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_mismatch" class="doc_header"><code>get_mismatch</code><a href="https://github.com/BojarLab/glycowork/tree/master/glycowork/ml/model_training.py#L413" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_mismatch</code>(<strong><code>model</code></strong>, <strong><code>X_test</code></strong>, <strong><code>y_test</code></strong>, <strong><code>n</code></strong>=<em><code>10</code></em>)</p>
</blockquote>
<p>analyzes misclassifications of trained machine learning model</p>
<table>
<thead><tr>
<th style="text-align:left">Arguments:</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">model (model object): trained machine learning model from train_ml_model</td>
</tr>
<tr>
<td style="text-align:left">X_test (dataframe): motif dataframe used for validating model</td>
</tr>
<tr>
<td style="text-align:left">y_test (list): list of labels</td>
</tr>
<tr>
<td style="text-align:left">n (int): number of returned misclassifications; default:10</td>
</tr>
</tbody>
</table>
<table>
<thead><tr>
<th style="text-align:left">Returns:</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Returns tuples of misclassifications and their predicted probability</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">get_mismatch</span><span class="p">(</span><span class="n">model_ft</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[(&#39;GalNAc(b1-4)GlcNAc(b1-2)Man(a1-3)[GlcNAc(b1-2)Man(a1-6)]Man(b1-4)GlcNAc(b1-4)GlcNAc&#39;,
  0.45373743772506714),
 (&#39;GlcNAc(b1-2)[GlcNAc(b1-4)]Man(a1-3)[GlcNAc(b1-2)Man(a1-6)]Man(b1-4)GlcNAc(b1-4)[FucOS(a1-6)]GlcNAc&#39;,
  0.7654131054878235),
 (&#39;GlcNAc(b1-2)Man(a1-3)[GlcNAc(b1-2)[GlcNAc(b1-6)]Man(a1-6)]Man(b1-4)GlcNAc(b1-4)[Fuc(a1-6)]GlcNAc&#39;,
  0.47539860010147095),
 (&#39;Man(a1-6)Man(b1-4)GlcNAc(b1-4)GlcNAc&#39;, 0.4186375141143799),
 (&#39;Man(a1-2)Man(a1-2)Man(a1-3)[Man(a1-2)Man(a1-3)[Man(a1-2)Man(a1-6)]Man(a1-6)]Man(b1-4)GlcNAc(b1-4)GlcNAc&#39;,
  0.4636443555355072),
 (&#39;Man(a1-6)Man(b1-4)GlcNAc(b1-4)[Fuc(a1-6)]GlcNAc&#39;, 0.3262776732444763),
 (&#39;Fuc3S(a1-2)Fuc3S(a1-3)GlcA(b1-3)GalNAc6S&#39;, 0.5211899280548096),
 (&#39;Xyl(bond)Glc&#39;, 0.28793126344680786),
 (&#39;Man(b1-4)GlcNAc(b1-4)[Fuc(a1-3)][Fuc(a1-6)]GlcNAc-ol&#39;, 0.5379984378814697),
 (&#39;Gal(bond)GlcNAc(b1-2)Man(a1-3)[Man(a1-3)[Man(a1-6)]Man(a1-6)]Man(b1-4)GlcNAc(b1-4)GlcNAc&#39;,
  0.8179002404212952)]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="models">models<a class="anchor-link" href="#models"> </a></h2><blockquote><p>describes some examples for machine learning architectures applicable to glycans. The main portal is prep_models which allows users to setup (trained) models by their string names</p>
</blockquote>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#show_doc(SweetNet)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#show_doc(LectinOracle)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#show_doc(LectinOracle_flex)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#show_doc(NSequonPred)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#show_doc(init_weights)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#show_doc(prep_model)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="processing">processing<a class="anchor-link" href="#processing"> </a></h2><blockquote><p>contains helper functions to prepare glycan data for model training</p>
</blockquote>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#show_doc(dataset_to_graphs)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#show_doc(dataset_to_dataloader)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#show_doc(split_data_to_train)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="inference">inference<a class="anchor-link" href="#inference"> </a></h2><blockquote><p>can be used to analyze trained models, make predictions, or obtain glycan representations</p>
</blockquote>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#show_doc(glycans_to_emb)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In order to run <code>get_esm1b_representations</code>, you first have to run this snippet:</p>
<p><code>!pip install fair-esm
import esm
model, alphabet = esm.pretrained.esm1b_t33_650M_UR50S()</code></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="train_test_split">train_test_split<a class="anchor-link" href="#train_test_split"> </a></h2><blockquote><p>contains various data split functions to get appropriate training and test sets</p>
</blockquote>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="hierarchy_filter" class="doc_header"><code>hierarchy_filter</code><a href="https://github.com/BojarLab/glycowork/tree/master/glycowork/ml/train_test_split.py#L34" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>hierarchy_filter</code>(<strong><code>df_in</code></strong>, <strong><code>rank</code></strong>=<em><code>'Domain'</code></em>, <strong><code>min_seq</code></strong>=<em><code>5</code></em>, <strong><code>wildcard_seed</code></strong>=<em><code>False</code></em>, <strong><code>wildcard_list</code></strong>=<em><code>None</code></em>, <strong><code>wildcard_name</code></strong>=<em><code>None</code></em>, <strong><code>r</code></strong>=<em><code>0.1</code></em>, <strong><code>col</code></strong>=<em><code>'target'</code></em>)</p>
</blockquote>
<p>stratified data split in train/test at the taxonomic level, removing duplicate glycans and infrequent classes</p>
<table>
<thead><tr>
<th style="text-align:left">Arguments:</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">df_in (dataframe): dataframe of glycan sequences and taxonomic labels</td>
</tr>
<tr>
<td style="text-align:left">rank (string): which rank should be filtered; default:'domain'</td>
</tr>
<tr>
<td style="text-align:left">min_seq (int): how many glycans need to be present in class to keep it; default:5</td>
</tr>
<tr>
<td style="text-align:left">wildcard_seed (bool): set to True if you want to seed wildcard glycoletters; default:False</td>
</tr>
<tr>
<td style="text-align:left">wildcard_list (list): list which glycoletters a wildcard encompasses</td>
</tr>
<tr>
<td style="text-align:left">wildcard_name (string): how the wildcard should be named in the IUPAC-condensed nomenclature</td>
</tr>
<tr>
<td style="text-align:left">r (float): rate of replacement, default:0.1 or 10%</td>
</tr>
<tr>
<td style="text-align:left">col (string): column name for glycan sequences; default:target</td>
</tr>
</tbody>
</table>
<table>
<thead><tr>
<th style="text-align:left">Returns:</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Returns train_x, val_x (lists of glycans (strings) after stratified shuffle split)</td>
</tr>
<tr>
<td style="text-align:left">train_y, val_y (lists of taxonomic labels (mapped integers))</td>
</tr>
<tr>
<td style="text-align:left">id_val (taxonomic labels in text form (strings))</td>
</tr>
<tr>
<td style="text-align:left">class_list (list of unique taxonomic classes (strings))</td>
</tr>
<tr>
<td style="text-align:left">class_converter (dictionary to map mapped integers back to text labels)</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">train_x</span><span class="p">,</span> <span class="n">val_x</span><span class="p">,</span> <span class="n">train_y</span><span class="p">,</span> <span class="n">val_y</span><span class="p">,</span> <span class="n">id_val</span><span class="p">,</span> <span class="n">class_list</span><span class="p">,</span> <span class="n">class_converter</span> <span class="o">=</span> <span class="n">hierarchy_filter</span><span class="p">(</span><span class="n">df_species</span><span class="p">,</span>
                                                                                       <span class="n">rank</span> <span class="o">=</span> <span class="s1">&#39;Kingdom&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">train_x</span><span class="p">[:</span><span class="mi">10</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[&#39;[Glc(a1-4)]GlcNAc(b1-3)[Rha(a1-4)GalA(a1-2)]RhaOAc(a1-4)Glc(a1-2)Rha(a1-3)GlcNAc&#39;, &#39;Ribf(b1-6)GalfNAc(b1-4)[DLGlcHepOMe(b1-3)]GlcAOEtn(a1-2)Ribf&#39;, &#39;Man(a1-2)[Galf(b1-6)]Man-ol&#39;, &#39;Fuc(a1-2)[GalNAc(a1-3)]Gal(b1-4)GalNAc(b1-3)[Fuc(a1-2)]Gal(b1-4)GlcNAc(b1-3)Gal(b1-4)Glc1Cer&#39;, &#39;Glc(b1-3)Glc(b1-3)[Glc(b1-6)]Glc(b1-3)Glc-ol&#39;, &#39;Man(a1-6)Man(b1-4)GlcNAc(b1-4)[Fuc(a1-3)][Fuc(a1-6)]GlcNAc-ol&#39;, &#39;Gal(a1-6)Glc(a1-2)Fruf&#39;, &#39;GalNAc(a1-4)GalNAc(a1-4)[Glc(b1-3)]GalNAc(a1-4)GalNAc(a1-4)GalNAc(a1-3)QuiNAcN&#39;, &#39;Rha(a1-3)[Glc(a1-6)]Glc(b1-3)[Glc(a1-4)]GalNAla(a1-3)LDManHepOPOCm(a1-3)LDManHepOP(a1-5)Kdo&#39;, &#39;Neu5Ac(a2-6)Gal(b1-4)GlcNAc(b1-3)Gal(b1-4)GlcNAc(b1-6)[Fuc(a1-2)Gal(b1-3)[Fuc(a1-4)]GlcNAc(b1-3)]Gal(b1-4)Glc-ol&#39;]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="general_split" class="doc_header"><code>general_split</code><a href="https://github.com/BojarLab/glycowork/tree/master/glycowork/ml/train_test_split.py#L101" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>general_split</code>(<strong><code>glycans</code></strong>, <strong><code>labels</code></strong>, <strong><code>test_size</code></strong>=<em><code>0.2</code></em>)</p>
</blockquote>
<p>splits glycans and labels into train / test sets</p>
<table>
<thead><tr>
<th style="text-align:left">Arguments:</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">glycans (list): list of IUPAC-condensed glycan sequences as strings</td>
</tr>
<tr>
<td style="text-align:left">labels (list): list of labels used for prediction</td>
</tr>
<tr>
<td style="text-align:left">test_size (float): % size of test set; default:0.2 / 20%</td>
</tr>
</tbody>
</table>
<table>
<thead><tr>
<th style="text-align:left">Returns:</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Returns X_train, X_test, y_train, y_test</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">train_x</span><span class="p">,</span> <span class="n">val_x</span><span class="p">,</span> <span class="n">train_y</span><span class="p">,</span> <span class="n">val_y</span> <span class="o">=</span> <span class="n">general_split</span><span class="p">(</span><span class="n">df_species</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span>
                                              <span class="n">df_species</span><span class="o">.</span><span class="n">Species</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">train_x</span><span class="p">[:</span><span class="mi">10</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[&#39;Neu5Ac(bond)Glc-ol&#39;, &#39;Man(b1-4)Man(b1-4)[Gal(a1-6)]Man&#39;, &#39;GlcNAc(b1-2)[GlcNAc(b1-4)]Man(a1-3)[Gal(b1-4)GlcNAc(b1-2)[GlcNAc(b1-6)]Man(a1-6)]Man(b1-4)GlcNAc(b1-4)[Fuc(a1-6)]GlcNAc&#39;, &#39;Gal(b1-4)GlcNAc(b1-2)Gal(b1-4)GlcNAc(b1-2)Man(a1-3)[Gal(b1-4)GlcNAc(b1-2)Gal(b1-4)GlcNAc(b1-2)Man(a1-6)]Man(b1-4)GlcNAc(b1-4)[Fuc(a1-6)]GlcNAc-ol&#39;, &#39;GlcN(a1-4)Man&#39;, &#39;Man(a1-3)Man(a1-3)Man&#39;, &#39;Neu5Ac(a2-3)Gal(b1-4)[Neu5Ac(a2-6)]GalNAc-ol&#39;, &#39;GlcNAc(b1-2)Man(a1-3)[Man(a1-6)]Man(b1-4)GlcNAc(b1-4)[Fuc(a1-6)]GlcNAc&#39;, &#39;Gal(b1-4)GlcNAc(b1-2)DDManHep(a1-6)LDManHep&#39;, &#39;Gal(a1-4)Gal(a1-3)Galf&#39;]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="taxonomic_multilabel" class="doc_header"><code>taxonomic_multilabel</code><a href="https://github.com/BojarLab/glycowork/tree/master/glycowork/ml/train_test_split.py#L115" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>taxonomic_multilabel</code>(<strong><code>df</code></strong>, <strong><code>rank</code></strong>=<em><code>'Species'</code></em>, <strong><code>glycan_col</code></strong>=<em><code>'target'</code></em>)</p>
</blockquote>
<p>converts a one row per glycan-species association file to a format of one glycan - all species associations</p>
<table>
<thead><tr>
<th style="text-align:left">Arguments:</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">df (dataframe): dataframe where each row is one glycan - species association</td>
</tr>
<tr>
<td style="text-align:left">rank (string): which taxonomic level should be used; default:Species</td>
</tr>
<tr>
<td style="text-align:left">glycan_col (string): column name of where the glycan sequences are stored; default:target</td>
</tr>
</tbody>
</table>
<table>
<thead><tr>
<th style="text-align:left">Returns:</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">(1) list of unique glycans in df</td>
</tr>
<tr>
<td style="text-align:left">(2) list of lists, where each inner list are all the taxonomic labels of a glycan</td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

